var obj = {
		'Wykroczenia drogowe':{
			'Jazda pod wpÅ‚ywem alkoholu lub substancji odurzajÄ…cych': {
                'Ticket min': 5000,
                'Ticket max': 5000,
                'Jail min': 10,
                'Jail max': 15,
				'Additional': 'Odholowanie pojazdu, Konfiskata prawo jazdy',
            },
			'Jazda bez prawa jazdy': {
                'Ticket min': 5000,
                'Ticket max': 5000,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': 'Odholowanie pojazdu',
            },
			'Przekroczenie prędkości w mieście': {
                'Ticket min': 2000,
                'Ticket max': 8000,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': 'Dopuszczalny błąd radaru - 10km/h',
            },
			'Brawurowa jazda': {
                'Ticket min': 6000,
                'Ticket max': 10000,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': '',
            },
			'Stwarzanie zagrożenia w ruchu lądowym': {
                'Ticket min': 8000,
                'Ticket max': 12000,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': 'Konfiskata prawo jazdy',
            },
			'Niezatrzymanie pojazdu do kontroli': {
                'Ticket min': 5000,
                'Ticket max': 10000,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': '',
            },
			'Niewłaściwe parkowanie': {
                'Ticket min': 500,
                'Ticket max': 1500,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': '',
            },
			'Zły stan techniczny pojazdu': {
                'Ticket min': 0,
                'Ticket max': 2500,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': 'Odholowanie pojazdu',
            },
			'Przejazd na czerwonym świetle': {
                'Ticket min': 500,
                'Ticket max': 2000,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': '',
            },
			'Zniszczenie mienia': {
                'Ticket min': 3000,
                'Ticket max': 4000,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': '',
            },
			'Spowodowanie kolizji/wypadku': {
                'Ticket min': 2500,
                'Ticket max': 5000,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': '',
            },
			'Jazda pod prąd': {
                'Ticket min': 4000,
                'Ticket max': 4000,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': '',
            },
			'Potrącenie przechodnia': {
                'Ticket min': 5000,
                'Ticket max': 5000,
                'Jail min': 0,
                'Jail max': 5,
				'Additional': '',
            },
			'Przechodzenie przez jezdnia w niedozwolonym miejscu': {
                'Ticket min': 500,
                'Ticket max': 500,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': 'Upomnienie',
            },
		},
		'Przestępstwa lekkie':{
			'Niszczenie mienia publicznego': {
                'Ticket min': 2000,
                'Ticket max': 4000,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': '',
            },
			'Niewykonywanie poleceń funkcjonariusza': {
                'Ticket min': 1500,
                'Ticket max': 5000,
                'Jail min': 10,
                'Jail max': 10,
				'Additional': 'Upomnienie',
            },
			'Obraza funkcjonariusza': {
                'Ticket min': 5000,
                'Ticket max': 1000,
                'Jail min': 5,
                'Jail max': 10,
				'Additional': 'Upomnienie',
            },
			'Utrudnianie pracy służbom publicznym': {
                'Ticket min': 1500,
                'Ticket max': 1500,
                'Jail min': 5,
                'Jail max': 5,
				'Additional': 'Upomnienie',
            },
			'Fałszywe zgłoszenie': {
                'Ticket min': 1500,
                'Ticket max': 3000,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': '',
            },
			'Niszczenie cudzej własności': {
                'Ticket min': 1500,
                'Ticket max': 5000,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': 'Pokrycie szkód',
            },
			'Składanie fałszywych zeznań': {
                'Ticket min': 5000,
                'Ticket max': 10000,
                'Jail min': 5,
                'Jail max': 10,
				'Additional': '',
            },
			'Kradzież pojazdu': {
                'Ticket min': 2000,
                'Ticket max': 10000,
                'Jail min': 5,
                'Jail max': 10,
				'Additional': 'Odholowanie pojazdu',
            },
			'Posiadanie kontrabandy': {
                'Ticket min': 10000,
                'Ticket max': 20000,
                'Jail min': 10,
                'Jail max': 20,
				'Additional': 'Konfiskata',
            },
			'Stawianie oporu': {
                'Ticket min': 5000,
                'Ticket max': 5000,
                'Jail min': 10,
                'Jail max': 10,
				'Additional': '',
            },
			'Kradzież cudzej własności': {
                'Ticket min': 2000,
                'Ticket max': 5000,
                'Jail min': 5,
                'Jail max': 10,
				'Additional': 'Pokrycie szkód',
            },
			'Chodzenie zamaskowanym po mieście': {
                'Ticket min': 5000,
                'Ticket max': 5000,
                'Jail min': 0,
                'Jail max': 0,
				'Additional': 'Rewizja/Upomnienie',
            },
			'Próba przekupstwa': {
                'Ticket min': 5000,
                'Ticket max': 5000,
                'Jail min': 5,
                'Jail max': 10,
				'Additional': 'Upomnienie',
            },
			'Kradzież radiowozu': {
                'Ticket min': 20000,
                'Ticket max': 20000,
                'Jail min': 15,
                'Jail max': 20,
				'Additional': 'Konfiskata',
            },
		},
		'Przestępstwa ciężkie':{
			'Groźby przy użyciu broni': {
                'Ticket min': 10000,
                'Ticket max': 20000,
                'Jail min': 10,
                'Jail max': 20,
				'Additional': 'Konfiskata licencji na broń',
            },
			'Ucieczka przed policją': {
                'Ticket min': 10000,
                'Ticket max': 20000,
                'Jail min': 10,
                'Jail max': 15,
				'Additional': 'Konfiskata prawa jazdy',
            },
			'Porwanie': {
                'Ticket min': 10000,
                'Ticket max': 15000,
                'Jail min': 15,
                'Jail max': 25,
				'Additional': 'Konfiskata licencji na broń',
            },
			'Pomoc w ucieczce': {
                'Ticket min': 5000,
                'Ticket max': 15000,
                'Jail min': 5,
                'Jail max': 15,
				'Additional': '',
            },
			'Współudział w przestępstwie': {
                'Ticket min': 15000,
                'Ticket max': 25000,
                'Jail min': 10,
                'Jail max': 30,
				'Additional': '',
            },
			'Napad na sklep': {
                'Ticket min': 15000,
                'Ticket max': 35000,
                'Jail min': 15,
                'Jail max': 30,
				'Additional': 'Konfiskata licencji na broń',
            },
			'Napad na bank': {
                'Ticket min': 25000,
                'Ticket max': 45000,
                'Jail min': 20,
                'Jail max': 40,
				'Additional': 'Konfiskata licencji na broń',
            },
			'Napad na skarbiec': {
                'Ticket min': 35000,
                'Ticket max': 55000,
                'Jail min': 30,
                'Jail max': 45,
				'Additional': 'Konfiskata licencji na broń',
            },
			'Prowokacja policji': {
                'Ticket min': 5000,
                'Ticket max': 15000,
                'Jail min': 10,
                'Jail max': 20,
				'Additional': '',
            },
			'Próba napadu/napaści': {
                'Ticket min': 500,
                'Ticket max': 15000,
                'Jail min': 5,
                'Jail max': 15,
				'Additional': '',
            },
			'Podszywanie się pod FP': {
                'Ticket min': 10000,
                'Ticket max': 15000,
                'Jail min': 15,
                'Jail max': 20,
				'Additional': '',
            },
			'Nękanie obywatela/obywatelki ': {
                'Ticket min': 5000,
                'Ticket max': 10000,
                'Jail min': 0,
                'Jail max': 5,
				'Additional': '',
            },
			'Terroryzm': {
                'Ticket min': 200000,
                'Ticket max': 350000,
                'Jail min': 200,
                'Jail max': 300,
				'Additional': 'Dożywocie/Rozprawa sądowa',
            },
		},
		'Przestępstwa związane z bronią i nielegalnymi substancjami':{
			'Posiadanie narkotyków miękkich (marihuana powyżej 5g)': {
                'Ticket min': 5000,
                'Ticket max': 10000,
                'Jail min': 5,
                'Jail max': 10,
				'Additional': 'Rewizja',
            },
			'Posiadanie narkotyków twardych (metamfetamina/kokaina)': {
                'Ticket min': 15000,
                'Ticket max': 20000,
                'Jail min': 10,
                'Jail max': 15,
				'Additional': 'Rewizja',
            },
			'Handel narkotykami miękkimi (marihuana)': {
                'Ticket min': 7500,
                'Ticket max': 15000,
                'Jail min': 10,
                'Jail max': 20,
				'Additional': 'Rewizja',
            },
			'Handel narkotykami twardymi (metamfetamina/kokaina)': {
                'Ticket min': 20000,
                'Ticket max': 30000,
                'Jail min': 15,
                'Jail max': 30,
				'Additional': 'Rewizja',
            },
			'Posiadanie broni bez zezwolenia': {
                'Ticket min': 25000,
                'Ticket max': 30000,
                'Jail min': 20,
                'Jail max': 25,
				'Additional': 'Konfiskata',
            },
			'Posiadanie rejestrowanej broni krótkiej': {
                'Ticket min': 35000,
                'Ticket max': 45000,
                'Jail min': 20,
                'Jail max': 30,
				'Additional': 'Konfiskata licencji na broń',
            },
			'Posiadanie nielegalnej broni klasy drugiej': {
                'Ticket min': 75000,
                'Ticket max': 100000,
                'Jail min': 40,
                'Jail max': 60,
				'Additional': 'Konfiskata licencji na broń',
            },
			'Handel bronią': {
                'Ticket min': 25000,
                'Ticket max': 35000,
                'Jail min': 15,
                'Jail max': 30,
				'Additional': 'Konfiskata licencji na broń',
            },
			'Bezpodstawne użycie broni': {
                'Ticket min': 10000,
                'Ticket max': 15000,
                'Jail min': 10,
                'Jail max': 20,
				'Additional': 'Konfiskata licencji na broń',
            },
		},
		'Przestępstwa związane z użyciem siły/uszczerbkiem na zdrowiu':{
			'Usiłowanie zabójstwa obywatela': {
                'Ticket min': 15000,
                'Ticket max': 30000,
                'Jail min': 15,
                'Jail max': 25,
				'Additional': 'Konfiskata licencji na broń',
            },
			'Usiłowanie zabójstwa funkcjonariusza LSPD': {
                'Ticket min': 20000,
                'Ticket max': 40000,
                'Jail min': 25,
                'Jail max': 40,
				'Additional': 'Konfiskata licencji na broń',
            },
			'Napaść na funkcjonariusza LSPD': {
                'Ticket min': 10000,
                'Ticket max': 20000,
                'Jail min': 15,
                'Jail max': 25,
				'Additional': '',
            },
			'Groźby karalne': {
                'Ticket min': 5000,
                'Ticket max': 5000,
                'Jail min': 5,
                'Jail max': 10,
				'Additional': '',
            },
			'Nieumyślne spowodowanie uszczerbku na zdrowiu': {
                'Ticket min': 2000,
                'Ticket max': 5000,
                'Jail min': 0,
                'Jail max': 5,
				'Additional': '',
            },
			'Naruszenie nietykalności cielesnej': {
                'Ticket min': 2000,
                'Ticket max': 5000,
                'Jail min': 5,
                'Jail max': 10,
				'Additional': '',
            },
			'Udział w bójce': {
                'Ticket min': 1000,
                'Ticket max': 2500,
                'Jail min': 5,
                'Jail max': 10,
				'Additional': '',
            },
			'Morderstwo': {
                'Ticket min': 250000,
                'Ticket max': 350000,
                'Jail min': 250,
                'Jail max': 350,
				'Additional': 'Dożywocie/Rozprawa sądowa',
            },
		},
		'---':{
			'PRZYKŁAD1': {
                'Ticket min': 100,
                'Ticket max': 100,
                'Jail min': 10,
                'Jail max': 10,
				'Additional': 'PRZYKŁAD',
            },
		},
    };
	
	
function tariff(){
	var i = 1;
	var j = 0;
	$.each(obj, function(k, v) {
		$(".header").append('<button id="collapsible" class="collapsible">' + k + '</button>');
		$(".header").append('<div class="content"><table id="table'+ i +'" class="tariff"><br/></table></div>');
		$.each(v, function(k2, v2) {	
			$('#table'+ i).append('<tr><td> <div class="input-div"><input class="css-checkbox" id="'+j+'" type="checkbox" /><label class="css-label" for="'+j+'">' + k2 +'</label></div>   <div id="d'+j+'" class="input-div"><input class="input-value" id="i'+j+'" type="number" value="0" min="0" style="margin-left:10px"/></div></td></tr>');
			j=j+1;
			var punishments = "";
		if(v2['Ticket min'] != v2['Ticket max']){
			if(v2['Additional'] != '' && v2['Jail max'] != ''){
				if(v2['Jail max'] == v2['Jail min']){
					punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + " - $" + v2['Ticket max'] + '<br>';
					punishments = punishments + "Więzienie: " + v2['Jail min'] + " lat " + '<br>';
					punishments = punishments + "<u>Dodatkowa kara</u>: " + v2['Additional'] + '<br>';
				} else {
					punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + " - $" + v2['Ticket max'] + '<br>';
					punishments = punishments + "Więzienie od " + v2['Jail min'] + " do " + v2['Jail max'] + " lat" +'<br>';
					punishments = punishments + "<u>Dodatkowa kara</u>: " + v2['Additional'] + '<br>';
				}
			} else if (v2['Additional'] == '' && v2['Jail max'] != ''){
				if(v2['Jail max'] == v2['Jail min']){
					punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + " - $" + v2['Ticket max'] + '<br>';
					punishments = punishments + "Więzienie: " + v2['Jail min'] + " lat " + '<br>';
				} else {
					punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + " - $" + v2['Ticket max'] + '<br>';
					punishments = punishments + "Więzienie od " + v2['Jail min'] + " do " + v2['Jail max'] + " lat" +'<br>';
				}
			} else if (v2['Additional'] != '' && v2['Jail max'] == '') {
					punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + " - $" + v2['Ticket max'] + '<br>';
					punishments = punishments + "<u>Dodatkowa kara</u>: " + v2['Additional'] + '<br>';
			} else {
				punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + " - $" + v2['Ticket max'] + '<br>';
			}
		} else {
			if(v2['Additional'] != '' && v2['Jail max'] != ''){
				if(v2['Jail max'] == v2['Jail min']){
					punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + '<br>';
					punishments = punishments + "Więzienie: " + v2['Jail min'] + "lat" + '<br>';
					punishments = punishments + "<u>Dodatkowa kara</u>: " + v2['Additional'] + '<br>';
				} else {
					punishments = punishments + "Grzywna: " + "$" + v2['Ticket min']  + '<br>';
					punishments = punishments + "Więzienie od " + v2['Jail min'] + " do " + v2['Jail max'] + " lat" +'<br>';
					punishments = punishments + "<u>Dodatkowa kara</u>: " + v2['Additional'] + '<br>';
				}
			} else if (v2['Additional'] == '' && v2['Jail max'] != ''){
				if(v2['Jail max'] == v2['Jail min']){
					punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + '<br>';
					punishments = punishments + "Więzienie: " + v2['Jail min'] + "lat" + '<br>';
				} else {
					punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + '<br>';
					punishments = punishments + "Więzienie od " + v2['Jail min'] + " do " + v2['Jail max'] + " lat" +'<br>';
				}
			} else if (v2['Additional'] != '' && v2['Jail max'] == '') {
					punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + '<br>';
					punishments = punishments + "<u>Dodatkowa kara</u>: " + v2['Additional'] + '<br>';
			} else {
				punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + '<br>';
			}	
		}

			$('#table'+ i).append('<tr><td>' + punishments + ' <hr class="linia"></td></tr>' );
		});
		i = i+1;
	});
	
	/*CHECKBOXY*/
	
	
	$('input[type="checkbox"]').change(function(){
		var id = this.getAttribute('id');
		var idInput = "i" + id;
		var idDiv = "div#d" + id;
		if ($(this).is(':checked')){
			$(idDiv).show();
			document.getElementById(idInput).value = 1;
		} else {
			$(idDiv).hide();
			document.getElementById(idInput).value = 0;
		}
	}).change();
	
	
}

function calc(){
    var cenaMin = 0;
	var cenaMax = 0;
	var wiezienieMin = 0;
	var wiezienieMax = 0;
    var reason="";
	var j = ""
	
    var kara = [];
	var uniqueKara = [];
	var karaString = "";
	
	var i = 0;
	$.each(obj, function(k, v) {
		$.each(v, function(k2, v2) {
			j = "i" + i;
			var number = document.getElementById(j).value;
			
			if(number>0){
				number = parseInt(number , 10);
				cenaMin = cenaMin + (number*v2['Ticket min']);
				cenaMax = cenaMax + (number*v2['Ticket max']);
				wiezienieMin = wiezienieMin + (number*v2['Jail min']);
				wiezienieMax = wiezienieMax + (number*v2['Jail max']);   
				
				if(number==1){
					reason = reason + k2 + ", ";
				} else {
					reason = reason + k2 + " x"+number+", ";
				}
				
				if(v2['Additional']){
					kara.push(v2['Additional']);
				} 
				
			}
			i=i+1;
		});
	});
	
	$.each(kara, function(i, el){
		if($.inArray(el, uniqueKara) === -1) uniqueKara.push(el);
	});
	
	for( i = 0; i < uniqueKara.length; i++ ){
		karaString = karaString +uniqueKara[i] + ", ";
	}
	
	
	if(cenaMax==0){
		document.getElementById("charge").innerHTML="Grzywna: 0$";
	} else {
		if(cenaMin == cenaMax){
			document.getElementById("charge").innerHTML="Grzywna: $" + cenaMin;
		} else {
			document.getElementById("charge").innerHTML="Grzywna: od $" + cenaMin + " do $" + cenaMax;
		}
	}
	
	if(wiezienieMax==0){
		document.getElementById("jail").innerHTML="Brak kary wiezienia";
	} else if (wiezienieMax == wiezienieMin) {
		document.getElementById("jail").innerHTML= "Wiezienie: - " + wiezienieMin + " lat";
	} else {
		document.getElementById("jail").innerHTML= "Wiezienie: od " + wiezienieMin + " do " + wiezienieMax + " lat";
	}
	
	if(reason==""){
		document.getElementById("reason").innerHTML="we cos zaznacz";
	} else {
		document.getElementById("reason").innerHTML=reason.slice(0, -2);
	}
    
	if(karaString==""){
		document.getElementById("penalty").innerHTML= "<u>Dodatkowa kara:</u> " + "brak";
	} else {
		document.getElementById("penalty").innerHTML= "<u>Dodatkowa kara:</u> " + karaString.slice(0, -2);
	}
}



function openNav() {
  document.getElementById("mySidenav").style.width = "15vw";
}

function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
}




/*	MODALE	*/

//MODAL 1

	var modal = document.getElementById("myModal");

	var btn = document.getElementById("myBtn");
	
	$("#myBtn").click(function(){
		calc();
		if (document.getElementById("reason").innerHTML == "we cos zaznacz"){
			alertify.notify('Najpierw musisz coś zaznaczyć', 'error', 1).dismissOthers();
		} else {
			$('#myModal').fadeIn(500);
		}
		
		
	});
			
	var span = $("#close")[0];
	var span2 = $("#close-btn")[0];			
			
	span.onclick = function() {
		$('#myModal').fadeOut(500);
	}

	span2.onclick = function() {
		$('#myModal').fadeOut(500);
	}

	window.onclick = function(event) {
		if (event.target == modal) {
			$('#myModal').fadeOut(500);
		}
	}

//MODAL 2

	var modal2 = document.getElementById("myModal2");
			
	var btn2 = document.getElementById("myBtn2");
			
	var span3 = $("#close2")[0];
	var span4 = $("#close-btn2")[0];
			
	btn2.onclick = function() {

		$('#myModal2').fadeIn(500);
	}
			
	span3.onclick = function() {
		$('#myModal2').fadeOut(500);
	}

	span4.onclick = function() {
		$('#myModal2').fadeOut(500);
	}

	window.onclick = function(event) {
		if (event.target == modal2) {
			$('#myModal2').fadeOut(500);
		}	  
	}
		
//MODAL 3		
		
	var modal2 = document.getElementById("myModal3");

	var btn2 = document.getElementById("myBtn3");

	var span5 = $("#close3")[0];
	var span6 = $("#close-btn3")[0];

	btn2.onclick = function() {
		$('#myModal3').fadeIn(500);
	}

	span5.onclick = function() {
		$('#myModal3').fadeOut(500);
	}

	span6.onclick = function() {
		$('#myModal3').fadeOut(500);
	}
			
	window.onclick = function(event) {
		if (event.target == modal2) {
			$('#myModal3').fadeOut(500);
		}	  
	}

    // avatar modal

    var span7 = $("#close6")[0];
    var span8 = $("#close-btn6")[0];
    
    span7.onclick = function() {
        $('#myModal6').fadeOut(500);
        setTimeout(function(){ 
            $("#suspect-avatar-modal").attr("src", "");
        }, 500);
        alertify.error('Anulowano.');   
	}

	span8.onclick = function() {
        $('#myModal6').fadeOut(500);
        setTimeout(function(){ 
            $("#suspect-avatar-modal").attr("src", "");
        }, 500);
        alertify.error('Anulowano.');
	}